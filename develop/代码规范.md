## 代码规范记录

好的代码应该:
- 容易理解
- 没有明显的安全问题
- 能够满足最关键的需求
- 有充分的注释
- 使用规范的命名
- 经过充分的测试

坏的代码包括:
- 难以阅读的代码
- 浪费大量计算机资源的代码
- 代码风格混乱的代码
- 复杂的、不直观的代码
- 没有经过适当测试的代码


### 避免错误的几种方法

从别人的失败和自己的失败中学习、积累、提高，是一个程序员成长的必修课

编译器在代码质量方面，作为机器，恪尽职守，它可以帮助我们清除很多错误

软件测试会尽可能地覆盖关键逻辑和负面清单，以确保关键功能能够正确执行，关键错误能够有效处理

代码评审是一个有效的在软件研发过程中抵御人类缺陷的制度。通过更多的眼睛检查软件代码，被忽视的错误更容易被逮住，更好的设计和实现更容易浮现出来

静态代码分析是通过对源代码的检查来发现潜在问题的一种软件质量保障方式。有很多静态代码分析工具可以帮助你检查代码缺陷

-------------------------------------------------

- 解决现实的问题
- 发现关键的问题

-------------------------------------------------

### 代码规范的价值

编码规范指的是针对特定编程语言约定的一系列规则，通常包括文件组织、缩进、注释、声明、语句、空格、命名约定、编程实践、编程原则和最佳实践等

- 规范的代码，可以降低代码出错的几率
- 规范的代码，可以提高编码的效率
- 规范的代码，降低软件维护成本
- 编码规范越使用越高效


-----------------------------------------------------

### 给你的代码起好名字

名字要准确地代表它背后的东西，并且还能让代码干净漂亮

为什么需要命名规范:
- 为标识符提供附加的信息，赋予标识符现实意义。帮助我们理顺编码的逻辑，减少阅读和理解代码的工作量
- 使代码审核变得更有效率，专注于更重要的问题，而不是争论语法和命名规范这类小细节，提高开发效率
- 提高代码的清晰度、可读性以及美观程度
- 避免不同产品之间的命名冲突


常见的命名方法:
- 驼峰命名法指的是使用大小写混合的格式，单词之间不使用空格隔开或者连接字符连接的命名方式。它有两种格式：大驼峰命名法（UpperCamelCase）和小驼峰命名法（lowerCamelCase）
- 在蛇形命名法中，单词之间通过下划线`_`连接，比如`out_of_range`
- 串式命名法, 单词之间通过连字符`-`连接，比如`background-color`


取好名字:
- 要有准确的意义
- 严格遵守命名规范
- 可读性优先


---------------------------------------------------

### 整理代码的关键逻辑

写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样

很多人不愿意整理代码，觉得这项工作很麻烦。其实代码的整理并不复杂，也不需要什么高深的技巧。有效地使用空行、空格和缩进，简单的分割与对齐，就可以使得代码的视觉效果甚至质量发生巨大的变化，理顺编码的思路，提高编码的效率。这是一个付出少、收获大，值得养成的好习惯


#### 给代码分块

- 保持代码块的单一性，一个代码块只能有一个目标。代码块内所有的内容都是为了一个目标服务的，不能把无关的内容放在同一个代码块里。同一个代码块里语句的相互联系比与相邻代码块里的语句关系更为紧密
- 注意代码块的完整性。代码块是一个完整的信息块。一个代码块要表达一个相对完整的意思，不能一个意思没说完就分块了，就像话说了半句一样
- 代码块数量要适当。代码块过多，会让人觉得路径太长，逻辑复杂，不容易阅读理解。一个基础的代码块最好不要超过 35 行，否则就会有增加阅读理解的困难

#### 使用空白空间

给代码分块的办法之一，就是有效地使用空白空间。空白的空间虽然没有内容，但会给我们重要的信息提示。因此我们写代码的时候，一定要合理地运用空白

代码的分块，通过空格、缩进和空行来整理，或者分割。其中空格可以进行逻辑区隔，用于同一行代码内部的信息分块。缩进用于水平分割，用于表示代码块的级别。空行用于垂直分割，用于分开同级别的不同代码块

- 同级别代码块靠左对齐
- 同行内代码块空格区隔
- 一行一个行为, 每一行代码仅仅表示一个行为。这样每一行的代码才是一个常规大小的、可以识别的基础信息块

#### 基本的换行原则

- 每行代码字符数的限制。一般情况下，每行代码不要超出 80 个字符。由于屏幕尺寸和代码阅读终端的变化，现在的很多规范，开始使用 120 个字符的限制。所以我们编码的时候，需要留意一下
- 如果一行不足以容纳一个表达式，就需要换行

一般换行的原则有以下几点:
- 在逗号后换行
- 在操作符前换行
- 高级别的换行优先
- 新的换行与上一行同级别表达式的开头对齐
- 如果上述规则导致代码混乱或者代码太靠右，使用 8 个空格作为缩进


整理代码有一个基本的思想，那就是把代码分割成大脑能够有效识别并记忆的信息块，通过合理地使用空行、空格和缩进，把这些信息块清晰地呈现出来。清晰的代码结构，可以帮助我们理顺编码的思路，提高编码的效率，减少编码的错误，提高代码的可读性，降低代码的维护成本


----------------------------------------------------

### 写好注释

其实在理想状况下，代码不需要注释。理想的代码，命名恰当，结构清晰，逻辑顺畅，含义显而易见

因为注释不需要运行，所以没有常规的办法来测试它。 注释对不对？有没有随着代码变更？这些问题都是写注释需要注意的地方。注释难以维护，这是使用注释带来的最大的麻烦

注释为我们提供了一个借口。使用注释来解释代码，是注释的本意。但是，我们有时候会过度依赖解释，从而放弃了潜在的替代方案，比如更准确的命名，更清晰的结构，更顺畅的逻辑等等

注释的滥用。 由于注释部分不被执行，那么就可以被用来注释掉一些不需要的东西。比如，在正式的产品代码中，注释掉调试信息、代码块、俏皮话等等

注释是代码的一部分，是需要阅读的内容，目的是让其他人能更好地理解我们的代码，写注释需要我们有用户思维。虽然也有过度依赖注释的情况，但是，对于大部分程序员来说，问题还是注释太少，而不是太多


#### 几种常见的注释类型

- 第一种类型，是记录源代码版权和授权的，一般放在每一个源文件的开头，说明源代码的版权所有者，以及授权使用的许可方式，或者其他的公共信息
- 第二种类型，是用来生成用户文档的，比如 Java Doc。 这部分的作用，是用来生成独立的、不包含源代码的文档。 这些文档帮助使用者了解软件的功能和细节，主要面向的是该软件的使用者，而不是该软件的开发者。 比如 Java 的 API 规范的文档
- 第三种类型，是用来解释源代码的。换句话说，就是帮助代码的阅读者理解代码。这是大家默认的注释类型

**如果一段代码不再需要，我会清理掉代码，而不会保留这个注释掉的代码块**

#### 注释的原则

- 准确，错误的注释比没有注释更糟糕
- 必要，多余的注释浪费阅读者的时间
- 清晰，混乱的注释会把代码搞得更乱


-----------------------------------------------------


### 写好声明

在编程语言里，我们使用标识符来表示不同的逻辑和对象。声明就是用来定义这些标识符的。标识符声明的地方，就是取名字和第一次使用名字的地方

- 取一个好名字
- 一行一个声明
- 局部变量需要时再声明, 标识符的声明应该和它的使用尽可能地靠近，特别是局部变量的标识符声明。这样在视觉上，标识符的定义和使用，可以方便我们阅读和记忆
- 类属性要集中声明, 同样是为了阅读和记忆，类变量的声明则要集中。因为类变量无论是私密变量，还是公开变量，在类的方法实现中，随时都可以调用。我们需要把这些变量放在一起，以便于修改和查找
- 声明时就初始化, 除非变量的初始值依赖于更多的条件，或者涉及到一定的计算，否则，声明时就应该完成初始化。声明时初始化，可以防止初始化的遗漏或者不必要的代码重复
- 尾随的花括号, 左括号不要单独成行，要紧随在语句尾部，以一个空格隔开, 右括号单独一行
- 靠紧的小括号, 小括号一般用来识别一个标识符是不是方法标识符，所以建议小括号要紧靠着标识符，中间不要有空格


------------------------------------------------------------

